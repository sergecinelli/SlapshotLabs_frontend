<!-- Sign In Page -->
<app-auth-layout title="LOGIN HERE">
  <!-- Sign In Form -->
  <form [formGroup]="signInForm" (ngSubmit)="onSubmit()">
    <div class="space-y-2">
      <!-- Email Address -->
      <mat-form-field [floatLabel]="'always'" [hideRequiredMarker]="true" class="w-full">
        <mat-label class="uppercase text-custom-secondary">Email Address</mat-label>
        <input
          matInput
          type="email"
          autocomplete="email"
          formControlName="email"
          placeholder="Enter your email"
        />
        @if (email?.invalid && (email?.dirty || email?.touched)) {
          <mat-error>
            @if (email?.errors?.['required']) {
              Email address is required
            }
            @if (email?.errors?.['email']) {
              Please enter a valid email address
            }
          </mat-error>
        }
      </mat-form-field>

      <!-- Password -->
      <mat-form-field [floatLabel]="'always'" [hideRequiredMarker]="true" class="w-full">
        <mat-label class="uppercase text-custom-secondary">Password</mat-label>
        <input
          matInput
          type="password"
          autocomplete="current-password"
          formControlName="password"
          placeholder="Enter your password"
        />
        @if (password?.invalid && (password?.dirty || password?.touched)) {
          <mat-error>
            @if (password?.errors?.['required']) {
              Password is required
            }
            @if (password?.errors?.['minlength']) {
              Password must be at least 6 characters long
            }
          </mat-error>
        }
      </mat-form-field>
    </div>

    <!-- Remember Me and Forgot Password Row -->
    <div class="flex items-center justify-between mb-4 -ml-2">
      <mat-checkbox formControlName="rememberMe"> Remember Me </mat-checkbox>

      <a
        (click)="navigateToForgotPassword()"
        class="text-custom-primary hover:text-red-700 no-underline font-medium text-md cursor-pointer"
      >
        Forgot Password?
      </a>
    </div>

    <div class="flex justify-center flex-col text-center">
      <!-- Login Button -->
      <app-auth-button
        text="LOGIN"
        type="submit"
        (clicked)="onSubmit()"
      ></app-auth-button>

      <app-auth-link
        text="Don't have an account yet?"
        linkText="Sign up"
        (linkClicked)="navigateToSignUp()"
      ></app-auth-link>
    </div>
  </form>
</app-auth-layout>
