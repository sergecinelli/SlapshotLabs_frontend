@let weekStartValue = weekStart();
@let isFirstWeekValue = isFirstWeek();
@let isLastWeekValue = isLastWeek();

<div class="week-pagination">
  <button
    mat-icon-button
    (click)="goToPreviousMonth()"
    [disabled]="isFirstWeekValue"
    class="nav-button"
    [attr.aria-label]="'Previous month'"
  >
    <span class="material-symbols-rounded">chevron_left</span>
  </button>

  <div class="week-display">
    <div class="week-range">
      <span class="week-start">{{ formatMonthYear(weekStartValue) }}</span>
    </div>
    <div class="calendar-wrapper">
      <button
        #calendarButton
        mat-icon-button
        (click)="openCalendar()"
        class="calendar-button"
        [attr.aria-label]="'Select month from calendar'"
      >
        <span class="material-symbols-rounded">calendar_month</span>
      </button>
      <mat-form-field class="calendar-field-hidden">
        <input
          matInput
          [matDatepicker]="picker"
          [value]="weekStartValue"
          (dateChange)="onDateSelected($event)"
          [attr.aria-label]="'Select month'"
        />
        <mat-datepicker #picker xPosition="start" yPosition="below"></mat-datepicker>
      </mat-form-field>
    </div>
  </div>

  <button
    mat-icon-button
    (click)="goToNextMonth()"
    [disabled]="isLastWeekValue"
    class="nav-button"
    [attr.aria-label]="'Next month'"
  >
    <span class="material-symbols-rounded">chevron_right</span>
  </button>
</div>
