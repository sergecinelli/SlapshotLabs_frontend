@use "@angular/material" as mat;
@use "./app/shared/styles/dashboard-card.scss";

// Global CSS Variables
// Note: All colors are defined in colors.ts and set via ThemeService
// ThemeService automatically creates CSS variables in format: --[key] (with _ replaced by -)
// Legacy variables (--color-primary, --sidebar-dark, etc.) are also created from colors.ts

// Inter Font Family
@font-face {
  font-family: "Inter";
  src: url("assets/fonts/Inter/Inter-Thin.ttf") format("truetype");
  font-weight: 100;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Inter";
  src: url("assets/fonts/Inter/Inter-Light.ttf") format("truetype");
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Inter";
  src: url("assets/fonts/Inter/Inter-Regular.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Inter";
  src: url("assets/fonts/Inter/Inter-SemiBold.ttf") format("truetype");
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Inter";
  src: url("assets/fonts/Inter/Inter-Bold.ttf") format("truetype");
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

$custom-primary-palette: (
  0: #000000,
  10: #370002,
  20: #550005,
  25: #650008,
  30: #75000a,
  35: #85000d,
  40: #95000f,
  50: #cf142b,
  60: #d53545,
  70: #db545f,
  80: #e17279,
  90: #e78f93,
  95: #edacad,
  98: #f3c8c7,
  99: #f9e4e1,
  100: #ffffff
);

$custom-secondary-palette: (
  0: #000000,
  10: #090b0c,
  20: #1a1f21,
  25: #252b2d,
  30: #303738,
  35: #3b4344,
  40: #464f50,
  50: #5e6869,
  60: #778f9c,
  70: #8fa2af,
  80: #a7b5c2,
  90: #bfc8d5,
  95: #d7dbe8,
  98: #efeefb,
  99: #f7f6ff,
  100: #ffffff
);

@layer utilities {
  /* Hide scrollbar for Chrome, Safari and Opera */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Hide scrollbar for IE, Edge and Firefox */
  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
}

* {
  font-family: "Inter";
  box-sizing: border-box;
}

html {
  @include mat.theme(
    (
      color: (
        primary: $custom-primary-palette,
        secondary: $custom-secondary-palette,
        tertiary: $custom-primary-palette
      ),
      typography: Inter,
      density: 0
    )
  );
}

body {
  color-scheme: light;

  background-color: #ffffff;
  color: #090b0c;
  font: var(--mat-sys-body-medium);

  margin: 0;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .text-custom-primary {
    color: var(--color-primary);
  }
  .text-custom-dark {
    color: var(--color-dark);
  }
  .text-custom-secondary {
    color: var(--color-secondary);
  }
  .bg-custom-primary {
    background-color: var(--color-primary);
  }
  .bg-custom-secondary {
    background-color: var(--color-secondary);
  }
  .bg-custom-white {
    background-color: var(--color-white);
  }
  .border-custom-primary {
    border-color: var(--color-primary);
  }
  .border-custom-secondary {
    border-color: var(--color-secondary);
  }
}

html,
body {
  height: 100%;
}
body {
  margin: 0;
  font-family: "Inter", Roboto, "Helvetica Neue", sans-serif;
  font-synthesis: none; // Отключаем синтетическое утолщение, чтобы использовать реальные файлы шрифтов
}

.mat-mdc-button.mat-mdc-button-disabled {
  background-color: var(--color-secondary) !important;
  color: white !important;
  opacity: 1 !important;
  cursor: not-allowed;
}

.mat-mdc-outlined-button.mat-mdc-button-disabled {
  background-color: var(--color-secondary) !important;
  color: white !important;
  border-color: var(--color-secondary) !important;
  opacity: 1 !important;
  cursor: not-allowed;
}

.loading-button {
  background-color: var(--color-secondary) !important;
  color: white !important;

  &.mat-mdc-outlined-button {
    border-color: var(--color-secondary) !important;
  }
}

.resend-button {
  transition: all 0.3s ease;

  &:disabled {
    opacity: 1 !important;
    cursor: not-allowed;
    background-color: var(--color-secondary) !important;
    color: white !important;
    border-color: var(--color-secondary) !important;
  }

  &:not(:disabled):hover {
    opacity: 0.9;
  }
}

.mat-mdc-text-field-wrapper {
  padding-left: 0;
  padding-right: 0;
}

.mat-internal-form-field > label {
  padding-left: 0;
  font-size: 14px;
}

.mdc-floating-label {
  padding-bottom: 4px;
}

.mat-mdc-input-element::placeholder {
  color: var(--color-secondary) !important;
  opacity: 0.7 !important;
}

.mat-mdc-input-element::-webkit-input-placeholder {
  color: var(--color-secondary) !important;
  opacity: 0.7 !important;
}

.mat-mdc-input-element::-moz-placeholder {
  color: var(--color-secondary) !important;
  opacity: 0.7 !important;
}

.mat-mdc-input-element:-ms-input-placeholder {
  color: var(--color-secondary) !important;
  opacity: 0.7 !important;
}

mat-card {
  box-shadow:
    0 8px 25px rgba(0, 0, 0, 0.15),
    0 4px 10px rgba(0, 0, 0, 0.1) !important;
}

mat-error {
  color: var(--color-primary) !important;
  padding-left: 0 !important;
  margin-left: -16px !important;
  font-size: 0.875rem;
}

.page-content {
  padding: 20px 10px;
}

.mat-mdc-tooltip {
  background-color: rgba(97, 97, 97, 0.9) !important;
  color: white !important;
  font-size: 12px !important;
  padding: 6px 8px !important;
  border-radius: 4px !important;
  max-width: 200px !important;
  word-wrap: break-word !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
}

.cdk-overlay-container .mat-mdc-tooltip {
  background-color: rgba(97, 97, 97, 0.9) !important;
  color: white !important;
}

.mat-mdc-select-panel {
  background-color: white !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
  border-radius: 4px !important;
  max-height: 300px !important;
  overflow-y: auto !important;
  z-index: 1100 !important;
}

.mat-mdc-option {
  background-color: white !important;
  color: var(--color-dark) !important;
  min-height: 48px !important;
  padding: 0 16px !important;

  &:hover:not(.mdc-list-item--disabled) {
    background-color: #f3f4f6 !important;
  }

  &.mdc-list-item--selected:not(.mdc-list-item--disabled) {
    background-color: var(--color-primary) !important;
    color: white !important;
  }

  &.mat-mdc-option-active {
    background-color: rgba(207, 20, 43, 0.1) !important;
    color: var(--color-primary) !important;
  }
}

.cdk-overlay-pane.mat-mdc-select-panel-above {
  z-index: 1100 !important;
}

.cdk-overlay-container .cdk-overlay-pane {
  z-index: 1100 !important;

  &.mat-mdc-select-panel-above {
    z-index: 1101 !important;
  }
}

.mat-mdc-form-field.mat-focused {
  .mat-mdc-text-field-wrapper {
    .mdc-line-ripple::before,
    .mdc-line-ripple::after {
      border-bottom-color: var(--color-primary) !important;
      z-index: 1 !important;
    }
  }
}

.mat-mdc-select {
  .mat-mdc-select-value {
    color: var(--color-dark) !important;
  }

  .mat-mdc-select-arrow {
    color: var(--color-secondary) !important;
  }

  &.mat-mdc-select-focused {
    .mat-mdc-select-arrow {
      color: var(--color-primary) !important;
    }
  }
}

::ng-deep .goalie-form-modal-dialog {
  .mat-mdc-form-field {
    font-size: 14px !important;

    .mat-mdc-input-element {
      font-size: 14px !important;
    }

    .mdc-floating-label {
      font-size: 12px !important;
    }

    .mat-mdc-form-field-subscript-wrapper {
      font-size: 12px !important;
    }

    .mat-mdc-select-value {
      font-size: 14px !important;
    }

    .mat-mdc-select-trigger {
      font-size: 14px !important;
    }
  }

  .mat-mdc-option {
    font-size: 14px !important;
  }

  mat-error {
    font-size: 12px !important;
  }
}

.cdk-overlay-container .cdk-overlay-pane .mat-mdc-select-panel .mat-mdc-option {
  font-size: 14px !important;

  .mdc-list-item__primary-text {
    font-size: 14px !important;
  }

  span {
    font-size: 14px !important;
  }
}

.mat-mdc-select-panel .mat-mdc-option {
  font-size: 14px !important;
  line-height: 20px !important;
  min-height: 44px !important;
}

.mat-mdc-option .mdc-list-item__primary-text {
  font-size: 14px !important;
}

.cdk-overlay-pane[aria-label*="select"] .mat-mdc-option,
.cdk-overlay-pane .mat-mdc-select-panel .mat-mdc-option {
  font-size: 14px !important;
}

/* Material Design Global Scrollbar Styles - Subtle and Professional */
* {
  // Firefox scrollbar
  scrollbar-width: thin;
  scrollbar-color: var(--gray, #878787) var(--border-light, #f0f1f3);
}

*::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

*::-webkit-scrollbar-track {
  background: var(--border-light, #f0f1f3);
  border-radius: 5px;
}

*::-webkit-scrollbar-thumb {
  background-color: var(--gray, #878787);
  border-radius: 5px;
  border: 2px solid var(--border-light, #f0f1f3);
  transition: background-color 0.28s cubic-bezier(0.4, 0, 0.2, 1);

  &:hover {
    background-color: var(--gray-tone1, #2d2d2d);
  }

  &:active {
    background-color: var(--text-primary, #0f0f0f);
  }
}

// Horizontal scrollbar specific styling
*::-webkit-scrollbar:horizontal {
  height: 10px;
}

// Vertical scrollbar specific styling
*::-webkit-scrollbar:vertical {
  width: 10px;
}
